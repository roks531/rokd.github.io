"use strict";(self.webpackChunkdocusaurus_osebna=self.webpackChunkdocusaurus_osebna||[]).push([["3346"],{6470:function(e,n,s){s.r(n),s.d(n,{metadata:()=>r,contentTitle:()=>t,default:()=>h,assets:()=>d,toc:()=>o,frontMatter:()=>l});var r=JSON.parse('{"id":"postgresql/foreign-data-wrapper","title":"PostgreSQL Foreign Data Wrapper (FDW)","description":"Guide for setting up and using PostgreSQL Foreign Data Wrappers to access data from remote databases as if they were local tables.","source":"@site/docs/postgresql/foreign-data-wrapper.mdx","sourceDirName":"postgresql","slug":"/postgresql/foreign-data-wrapper","permalink":"/docs/postgresql/foreign-data-wrapper","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"High Availability with Patroni & etcd","permalink":"/docs/postgresql/patroni-cluster"}}'),i=s("5893"),a=s("65");let l={sidebar_position:6},t="PostgreSQL Foreign Data Wrapper (FDW)",d={},o=[{value:"Overview",id:"overview",level:2},{value:"What is FDW?",id:"what-is-fdw",level:2},{value:"Part 1: Basic Setup",id:"part-1-basic-setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install postgres_fdw Extension",id:"install-postgres_fdw-extension",level:3},{value:"Part 2: Create Foreign Server",id:"part-2-create-foreign-server",level:2},{value:"Basic Syntax",id:"basic-syntax",level:3},{value:"Example: Create Foreign Server",id:"example-create-foreign-server",level:3},{value:"Server Options",id:"server-options",level:3},{value:"List Foreign Servers",id:"list-foreign-servers",level:3},{value:"Part 3: Create User Mapping",id:"part-3-create-user-mapping",level:2},{value:"Basic Syntax",id:"basic-syntax-1",level:3},{value:"Example: Single User Mapping",id:"example-single-user-mapping",level:3},{value:"Example: Multiple User Mappings",id:"example-multiple-user-mappings",level:3},{value:"Using .pgpass for Passwords",id:"using-pgpass-for-passwords",level:3},{value:"List User Mappings",id:"list-user-mappings",level:3},{value:"Part 4: Create Foreign Tables",id:"part-4-create-foreign-tables",level:2},{value:"Method 1: Manual Creation",id:"method-1-manual-creation",level:3},{value:"Method 2: Import Foreign Schema",id:"method-2-import-foreign-schema",level:3},{value:"Foreign Table Options",id:"foreign-table-options",level:3},{value:"List Foreign Tables",id:"list-foreign-tables",level:3},{value:"Part 5: Querying Foreign Tables",id:"part-5-querying-foreign-tables",level:2},{value:"Simple Queries",id:"simple-queries",level:3},{value:"Joining Local and Remote Tables",id:"joining-local-and-remote-tables",level:3},{value:"Multi-Server Queries",id:"multi-server-queries",level:3},{value:"Part 6: Performance Optimization",id:"part-6-performance-optimization",level:2},{value:"Use Remote Estimates",id:"use-remote-estimates",level:3},{value:"Adjust Fetch Size",id:"adjust-fetch-size",level:3},{value:"Push Down Operations",id:"push-down-operations",level:3},{value:"Avoid These Patterns",id:"avoid-these-patterns",level:3},{value:"Create Materialized Views",id:"create-materialized-views",level:3},{value:"Part 7: DBeaver Setup",id:"part-7-dbeaver-setup",level:2},{value:"Connecting to Local Database",id:"connecting-to-local-database",level:3},{value:"Viewing Foreign Tables",id:"viewing-foreign-tables",level:3},{value:"Querying in DBeaver",id:"querying-in-dbeaver",level:3},{value:"ER Diagrams with Foreign Tables",id:"er-diagrams-with-foreign-tables",level:3},{value:"Part 8: Write Operations",id:"part-8-write-operations",level:2},{value:"Enable Writes",id:"enable-writes",level:3},{value:"Insert Data",id:"insert-data",level:3},{value:"Update Data",id:"update-data",level:3},{value:"Delete Data",id:"delete-data",level:3},{value:"Transactions",id:"transactions",level:3},{value:"Part 9: Monitoring and Troubleshooting",id:"part-9-monitoring-and-troubleshooting",level:2},{value:"Check FDW Statistics",id:"check-fdw-statistics",level:3},{value:"Monitor Queries",id:"monitor-queries",level:3},{value:"Debug Connection Issues",id:"debug-connection-issues",level:3},{value:"View FDW Configuration",id:"view-fdw-configuration",level:3},{value:"Part 10: Security Best Practices",id:"part-10-security-best-practices",level:2},{value:"1. Use Dedicated FDW User",id:"1-use-dedicated-fdw-user",level:3},{value:"2. Restrict Network Access",id:"2-restrict-network-access",level:3},{value:"3. Use SSL Connections",id:"3-use-ssl-connections",level:3},{value:"4. Read-Only Foreign Tables",id:"4-read-only-foreign-tables",level:3},{value:"5. Grant Minimal Privileges",id:"5-grant-minimal-privileges",level:3},{value:"Part 11: Advanced Use Cases",id:"part-11-advanced-use-cases",level:2},{value:"Partitioning with Foreign Tables",id:"partitioning-with-foreign-tables",level:3},{value:"Data Federation",id:"data-federation",level:3},{value:"Read Replica Access",id:"read-replica-access",level:3},{value:"Cleanup Commands",id:"cleanup-commands",level:2},{value:"Drop Foreign Table",id:"drop-foreign-table",level:3},{value:"Drop User Mapping",id:"drop-user-mapping",level:3},{value:"Drop Server",id:"drop-server",level:3},{value:"Drop Extension",id:"drop-extension",level:3},{value:"Other FDW Extensions",id:"other-fdw-extensions",level:2},{value:"Example: file_fdw for CSV",id:"example-file_fdw-for-csv",level:3},{value:"Best Practices Summary",id:"best-practices-summary",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"postgresql-foreign-data-wrapper-fdw",children:"PostgreSQL Foreign Data Wrapper (FDW)"})}),"\n",(0,i.jsx)(n.p,{children:"Guide for setting up and using PostgreSQL Foreign Data Wrappers to access data from remote databases as if they were local tables."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Foreign Data Wrappers (FDW) allow you to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Query data from remote PostgreSQL databases"}),"\n",(0,i.jsx)(n.li,{children:"Join local and remote tables in a single query"}),"\n",(0,i.jsx)(n.li,{children:"Access data from other database systems (MySQL, Oracle, MongoDB, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Create a federated database architecture"}),"\n",(0,i.jsx)(n.li,{children:"Implement data integration without ETL processes"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"what-is-fdw",children:"What is FDW?"}),"\n",(0,i.jsx)(n.p,{children:"FDW implements the SQL/MED (Management of External Data) standard, enabling PostgreSQL to access external data sources using a consistent SQL interface."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Local PostgreSQL Database      \u2502\n\u2502                                     \u2502\n\u2502  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Local Tables \u2502  \u2502Foreign Tables\u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                           \u2502         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502 FDW\n        \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u25BC                   \u25BC                   \u25BC\n\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Remote PG DB #1\u2502  \u2502Remote PG DB #2\u2502  \u2502Remote PG DB #3\u2502\n\u2502 192.168.1.13  \u2502  \u2502 192.168.1.14  \u2502  \u2502 192.168.1.15  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-1-basic-setup",children:"Part 1: Basic Setup"}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"PostgreSQL 9.3 or later (FDW built-in)"}),"\n",(0,i.jsx)(n.li,{children:"Network access to remote database"}),"\n",(0,i.jsx)(n.li,{children:"Valid credentials for remote database"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"install-postgres_fdw-extension",children:"Install postgres_fdw Extension"}),"\n",(0,i.jsxs)(n.p,{children:["On the ",(0,i.jsx)(n.strong,{children:"local database"})," where you want to access remote data:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Connect to your database\n\\c your_database\n\n-- Install the FDW extension\nCREATE EXTENSION IF NOT EXISTS postgres_fdw;\n\n-- Verify installation\nSELECT * FROM pg_extension WHERE extname = 'postgres_fdw';\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-2-create-foreign-server",children:"Part 2: Create Foreign Server"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"foreign server"})," defines the connection to a remote database."]}),"\n",(0,i.jsx)(n.h3,{id:"basic-syntax",children:"Basic Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE SERVER server_name\n    FOREIGN DATA WRAPPER postgres_fdw\n    OPTIONS (\n        host 'remote_host',\n        port 'remote_port',\n        dbname 'remote_database'\n    );\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-create-foreign-server",children:"Example: Create Foreign Server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Create a foreign server pointing to a remote database\nCREATE SERVER nov_indeks_fdw\n    FOREIGN DATA WRAPPER postgres_fdw\n    OPTIONS (\n        dbname 'testna',\n        host '192.168.1.13',\n        port '5433'\n    );\n"})}),"\n",(0,i.jsx)(n.h3,{id:"server-options",children:"Server Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Required"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"host"})}),(0,i.jsx)(n.td,{children:"Remote server hostname or IP"}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"port"})}),(0,i.jsx)(n.td,{children:"Remote PostgreSQL port"}),(0,i.jsx)(n.td,{children:"No (default: 5432)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"dbname"})}),(0,i.jsx)(n.td,{children:"Remote database name"}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"use_remote_estimate"})}),(0,i.jsx)(n.td,{children:"Use remote query planner"}),(0,i.jsx)(n.td,{children:"No (default: false)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fetch_size"})}),(0,i.jsx)(n.td,{children:"Number of rows per fetch"}),(0,i.jsx)(n.td,{children:"No (default: 100)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"extensions"})}),(0,i.jsx)(n.td,{children:"Extensions to use remotely"}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"list-foreign-servers",children:"List Foreign Servers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- View all foreign servers\nSELECT * FROM pg_foreign_server;\n\n-- Or use \\des command\n\\des\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-3-create-user-mapping",children:"Part 3: Create User Mapping"}),"\n",(0,i.jsx)(n.p,{children:"User mappings define how local users authenticate to the remote server."}),"\n",(0,i.jsx)(n.h3,{id:"basic-syntax-1",children:"Basic Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE USER MAPPING FOR local_user\n    SERVER server_name\n    OPTIONS (\n        user 'remote_user',\n        password 'remote_password'\n    );\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-single-user-mapping",children:"Example: Single User Mapping"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Map current user to remote credentials\nCREATE USER MAPPING FOR CURRENT_USER\n    SERVER nov_indeks_fdw\n    OPTIONS (\n        user 'snake',\n        password 'password'\n    );\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-multiple-user-mappings",children:"Example: Multiple User Mappings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Map specific local user\nCREATE USER MAPPING FOR john_local\n    SERVER nov_indeks_fdw\n    OPTIONS (\n        user 'john_remote',\n        password 'johns_password'\n    );\n\n-- Map another user\nCREATE USER MAPPING FOR jane_local\n    SERVER nov_indeks_fdw\n    OPTIONS (\n        user 'jane_remote',\n        password 'janes_password'\n    );\n\n-- Map public (all users)\nCREATE USER MAPPING FOR PUBLIC\n    SERVER nov_indeks_fdw\n    OPTIONS (\n        user 'readonly_user',\n        password 'readonly_password'\n    );\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Security Consideration",type:"warning",children:[(0,i.jsxs)(n.p,{children:["Passwords are stored in plain text in ",(0,i.jsx)(n.code,{children:"pg_user_mapping"}),". Consider using:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".pgpass"})," file instead"]}),"\n",(0,i.jsx)(n.li,{children:"SSL certificates for authentication"}),"\n",(0,i.jsx)(n.li,{children:"Restricted network access"}),"\n"]})]}),"\n",(0,i.jsx)(n.h3,{id:"using-pgpass-for-passwords",children:"Using .pgpass for Passwords"}),"\n",(0,i.jsx)(n.p,{children:"Instead of storing passwords in user mappings:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create ",(0,i.jsx)(n.code,{children:".pgpass"})," file in postgres user's home:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# /var/lib/postgresql/.pgpass\n192.168.1.13:5433:testna:snake:password\n192.168.1.14:5432:production:dbuser:secretpass\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Set permissions:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod 0600 /var/lib/postgresql/.pgpass\nchown postgres:postgres /var/lib/postgresql/.pgpass\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Create user mapping without password:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE USER MAPPING FOR CURRENT_USER\n    SERVER nov_indeks_fdw\n    OPTIONS (user 'snake');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"list-user-mappings",children:"List User Mappings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- View all user mappings\nSELECT * FROM pg_user_mappings;\n\n-- Or use \\deu command\n\\deu\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-4-create-foreign-tables",children:"Part 4: Create Foreign Tables"}),"\n",(0,i.jsx)(n.p,{children:"Foreign tables are local representations of remote tables."}),"\n",(0,i.jsx)(n.h3,{id:"method-1-manual-creation",children:"Method 1: Manual Creation"}),"\n",(0,i.jsx)(n.p,{children:"Define the table structure explicitly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE FOREIGN TABLE public.nov_indeks (\n    id INTEGER,\n    naziv VARCHAR(255),\n    vrednost NUMERIC(10,2),\n    datum DATE\n)\nSERVER nov_indeks_fdw\nOPTIONS (\n    schema_name 'public',\n    table_name 'indeks'\n);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"method-2-import-foreign-schema",children:"Method 2: Import Foreign Schema"}),"\n",(0,i.jsx)(n.p,{children:"Automatically import all or selected tables:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Import all tables from remote schema\nIMPORT FOREIGN SCHEMA public\nFROM SERVER nov_indeks_fdw\nINTO local_schema;\n\n-- Import specific tables\nIMPORT FOREIGN SCHEMA public\nLIMIT TO (customers, orders, products)\nFROM SERVER nov_indeks_fdw\nINTO local_schema;\n\n-- Import all except specific tables\nIMPORT FOREIGN SCHEMA public\nEXCEPT (audit_log, temp_data)\nFROM SERVER nov_indeks_fdw\nINTO public;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"foreign-table-options",children:"Foreign Table Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE FOREIGN TABLE remote_table (\n    id INTEGER,\n    data TEXT\n)\nSERVER my_server\nOPTIONS (\n    schema_name 'public',         -- Remote schema\n    table_name 'actual_table',    -- Remote table name\n    updatable 'false'             -- Read-only table\n);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"list-foreign-tables",children:"List Foreign Tables"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- View all foreign tables\nSELECT * FROM information_schema.foreign_tables;\n\n-- Or use \\det command\n\\det\n\n-- Detailed info\n\\d+ foreign_table_name\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-5-querying-foreign-tables",children:"Part 5: Querying Foreign Tables"}),"\n",(0,i.jsx)(n.p,{children:"Once set up, foreign tables work like regular tables."}),"\n",(0,i.jsx)(n.h3,{id:"simple-queries",children:"Simple Queries"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Select data\nSELECT * FROM nov_indeks;\n\n-- Filter data\nSELECT * FROM nov_indeks WHERE datum > '2024-01-01';\n\n-- Aggregate data\nSELECT COUNT(*), AVG(vrednost) FROM nov_indeks;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"joining-local-and-remote-tables",children:"Joining Local and Remote Tables"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Join local table with foreign table\nSELECT \n    l.customer_id,\n    l.order_date,\n    r.product_name,\n    r.price\nFROM local_orders l\nJOIN nov_indeks r ON l.product_id = r.id\nWHERE l.order_date > CURRENT_DATE - INTERVAL '30 days';\n"})}),"\n",(0,i.jsx)(n.h3,{id:"multi-server-queries",children:"Multi-Server Queries"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Query from multiple remote servers\nSELECT \n    a.customer_name,\n    b.order_total,\n    c.inventory_count\nFROM server1.customers a\nJOIN server2.orders b ON a.id = b.customer_id\nLEFT JOIN server3.inventory c ON b.product_id = c.product_id;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-6-performance-optimization",children:"Part 6: Performance Optimization"}),"\n",(0,i.jsx)(n.h3,{id:"use-remote-estimates",children:"Use Remote Estimates"}),"\n",(0,i.jsx)(n.p,{children:"Enable remote query planning:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER SERVER nov_indeks_fdw\nOPTIONS (ADD use_remote_estimate 'true');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"adjust-fetch-size",children:"Adjust Fetch Size"}),"\n",(0,i.jsx)(n.p,{children:"Increase fetch size for large result sets:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER SERVER nov_indeks_fdw\nOPTIONS (ADD fetch_size '1000');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"push-down-operations",children:"Push Down Operations"}),"\n",(0,i.jsx)(n.p,{children:"PostgreSQL automatically pushes down:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"WHERE clauses"}),"\n",(0,i.jsx)(n.li,{children:"JOIN conditions"}),"\n",(0,i.jsx)(n.li,{children:"Aggregate functions"}),"\n",(0,i.jsx)(n.li,{children:"Sorting (ORDER BY)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example query plan:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"EXPLAIN (VERBOSE) SELECT * FROM nov_indeks WHERE vrednost > 1000;\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output shows which operations are pushed to remote server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Foreign Scan on public.nov_indeks\n  Output: id, naziv, vrednost, datum\n  Remote SQL: SELECT id, naziv, vrednost, datum \n              FROM public.indeks \n              WHERE vrednost > 1000\n"})}),"\n",(0,i.jsx)(n.h3,{id:"avoid-these-patterns",children:"Avoid These Patterns"}),"\n",(0,i.jsxs)(n.p,{children:["\u274C ",(0,i.jsx)(n.strong,{children:"Don't"})," use functions that can't be pushed down:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- This fetches ALL rows then filters locally (slow)\nSELECT * FROM nov_indeks \nWHERE my_custom_function(vrednost) > 100;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Do"})," use standard SQL operations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- This filters remotely (fast)\nSELECT * FROM nov_indeks \nWHERE vrednost > 100 AND datum >= '2024-01-01';\n"})}),"\n",(0,i.jsx)(n.h3,{id:"create-materialized-views",children:"Create Materialized Views"}),"\n",(0,i.jsx)(n.p,{children:"For frequently accessed data, cache it locally:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Create materialized view\nCREATE MATERIALIZED VIEW local_nov_indeks AS\nSELECT * FROM nov_indeks;\n\n-- Refresh periodically\nREFRESH MATERIALIZED VIEW local_nov_indeks;\n\n-- Or set up automatic refresh with pg_cron\nSELECT cron.schedule('refresh-nov-indeks', '0 * * * *', \n  'REFRESH MATERIALIZED VIEW local_nov_indeks');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-7-dbeaver-setup",children:"Part 7: DBeaver Setup"}),"\n",(0,i.jsx)(n.p,{children:"DBeaver is a popular database GUI that can work with foreign tables."}),"\n",(0,i.jsx)(n.h3,{id:"connecting-to-local-database",children:"Connecting to Local Database"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Open DBeaver"}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Database"})," \u2192 ",(0,i.jsx)(n.strong,{children:"New Database Connection"})]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"PostgreSQL"})]}),"\n",(0,i.jsxs)(n.li,{children:["Enter connection details:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Host: ",(0,i.jsx)(n.code,{children:"localhost"})," or ",(0,i.jsx)(n.code,{children:"192.168.1.10"})]}),"\n",(0,i.jsxs)(n.li,{children:["Port: ",(0,i.jsx)(n.code,{children:"5432"})]}),"\n",(0,i.jsxs)(n.li,{children:["Database: ",(0,i.jsx)(n.code,{children:"your_database"})]}),"\n",(0,i.jsx)(n.li,{children:"Username: Your PostgreSQL user"}),"\n",(0,i.jsx)(n.li,{children:"Password: Your password"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Test Connection"}),", then ",(0,i.jsx)(n.strong,{children:"Finish"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"viewing-foreign-tables",children:"Viewing Foreign Tables"}),"\n",(0,i.jsx)(n.p,{children:"Foreign tables appear in the schema tree just like regular tables:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u251C\u2500\u2500 your_database\n\u2502   \u251C\u2500\u2500 Schemas\n\u2502   \u2502   \u251C\u2500\u2500 public\n\u2502   \u2502   \u2502   \u251C\u2500\u2500 Tables\n\u2502   \u2502   \u2502   \u2502   \u251C\u2500\u2500 local_table1\n\u2502   \u2502   \u2502   \u2502   \u251C\u2500\u2500 local_table2\n\u2502   \u2502   \u2502   \u251C\u2500\u2500 Foreign Tables\n\u2502   \u2502   \u2502   \u2502   \u251C\u2500\u2500 nov_indeks \u26A1 (192.168.1.13)\n\u2502   \u2502   \u2502   \u2502   \u251C\u2500\u2500 other_remote_table \u26A1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"querying-in-dbeaver",children:"Querying in DBeaver"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open ",(0,i.jsx)(n.strong,{children:"SQL Editor"})," (Ctrl+])"]}),"\n",(0,i.jsx)(n.li,{children:"Write your query:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Query foreign table\nSELECT * FROM nov_indeks LIMIT 100;\n\n-- Join local and remote\nSELECT \n    l.id,\n    l.local_column,\n    r.naziv,\n    r.vrednost\nFROM local_table l\nJOIN nov_indeks r ON l.remote_id = r.id;\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Press ",(0,i.jsx)(n.strong,{children:"Ctrl+Enter"})," or click ",(0,i.jsx)(n.strong,{children:"Execute SQL Script"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"er-diagrams-with-foreign-tables",children:"ER Diagrams with Foreign Tables"}),"\n",(0,i.jsx)(n.p,{children:"DBeaver can generate ER diagrams including foreign tables:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Right-click on schema \u2192 ",(0,i.jsx)(n.strong,{children:"View Diagram"})]}),"\n",(0,i.jsx)(n.li,{children:"Foreign tables appear with a different icon (\u26A1)"}),"\n",(0,i.jsx)(n.li,{children:"Relationships between local and foreign tables are shown"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"DBeaver Tip",type:"tip",children:(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.strong,{children:"Ctrl+Space"})," for autocomplete that includes foreign table columns!"]})}),"\n",(0,i.jsx)(n.h2,{id:"part-8-write-operations",children:"Part 8: Write Operations"}),"\n",(0,i.jsx)(n.p,{children:"Foreign tables can support write operations if properly configured."}),"\n",(0,i.jsx)(n.h3,{id:"enable-writes",children:"Enable Writes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Make foreign table updatable\nALTER FOREIGN TABLE nov_indeks\nOPTIONS (ADD updatable 'true');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"insert-data",children:"Insert Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"INSERT INTO nov_indeks (id, naziv, vrednost, datum)\nVALUES (1001, 'New Entry', 99.99, CURRENT_DATE);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"update-data",children:"Update Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"UPDATE nov_indeks\nSET vrednost = 150.00\nWHERE id = 1001;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"delete-data",children:"Delete Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DELETE FROM nov_indeks\nWHERE id = 1001;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"transactions",children:"Transactions"}),"\n",(0,i.jsx)(n.p,{children:"Foreign table operations participate in local transactions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"BEGIN;\n\n-- Insert to local table\nINSERT INTO local_orders (customer_id, amount) \nVALUES (123, 500.00);\n\n-- Update foreign table\nUPDATE nov_indeks \nSET vrednost = vrednost + 10 \nWHERE id = 456;\n\n-- Both commit or rollback together\nCOMMIT;  -- or ROLLBACK;\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Transaction Limitations",type:"warning",children:(0,i.jsx)(n.p,{children:"Two-phase commit is NOT supported. If the remote server crashes after commit, the transaction may be inconsistent."})}),"\n",(0,i.jsx)(n.h2,{id:"part-9-monitoring-and-troubleshooting",children:"Part 9: Monitoring and Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"check-fdw-statistics",children:"Check FDW Statistics"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- View foreign server statistics\nSELECT * FROM pg_stat_user_tables \nWHERE relname IN (\n    SELECT ftrelid::regclass::text \n    FROM pg_foreign_table\n);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"monitor-queries",children:"Monitor Queries"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Active queries on foreign tables\nSELECT \n    pid,\n    usename,\n    query,\n    state,\n    query_start\nFROM pg_stat_activity\nWHERE query LIKE '%nov_indeks%';\n"})}),"\n",(0,i.jsx)(n.h3,{id:"debug-connection-issues",children:"Debug Connection Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Test foreign server connection\nSELECT * FROM nov_indeks LIMIT 1;\n"})}),"\n",(0,i.jsx)(n.p,{children:"Common errors:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Connection refused"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Check network connectivity: ",(0,i.jsx)(n.code,{children:"ping 192.168.1.13"})]}),"\n",(0,i.jsx)(n.li,{children:"Verify PostgreSQL is running on remote server"}),"\n",(0,i.jsx)(n.li,{children:"Check firewall rules"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication failed"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Verify credentials in user mapping"}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.code,{children:"pg_hba.conf"})," on remote server"]}),"\n",(0,i.jsx)(n.li,{children:"Ensure remote user has necessary privileges"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Permission denied"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Grant SELECT privilege on remote table:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- On remote server\nGRANT SELECT ON TABLE indeks TO snake;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"view-fdw-configuration",children:"View FDW Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Show server options\nSELECT \n    srvname AS server_name,\n    srvoptions AS options\nFROM pg_foreign_server;\n\n-- Show user mapping options\nSELECT \n    usename,\n    srvname,\n    umoptions\nFROM pg_user_mappings;\n\n-- Show foreign table options\nSELECT \n    ft.ftrelid::regclass AS foreign_table,\n    fs.srvname AS server,\n    ft.ftoptions\nFROM pg_foreign_table ft\nJOIN pg_foreign_server fs ON ft.ftserver = fs.oid;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-10-security-best-practices",children:"Part 10: Security Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-use-dedicated-fdw-user",children:"1. Use Dedicated FDW User"}),"\n",(0,i.jsx)(n.p,{children:"Create a dedicated user on the remote server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- On remote server\nCREATE USER fdw_user WITH PASSWORD 'secure_password';\nGRANT CONNECT ON DATABASE testna TO fdw_user;\nGRANT USAGE ON SCHEMA public TO fdw_user;\nGRANT SELECT ON ALL TABLES IN SCHEMA public TO fdw_user;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-restrict-network-access",children:"2. Restrict Network Access"}),"\n",(0,i.jsxs)(n.p,{children:["Configure ",(0,i.jsx)(n.code,{children:"pg_hba.conf"})," on remote server:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-conf",children:"# Allow FDW connections only from specific host\nhost    testna    fdw_user    192.168.1.10/32    scram-sha-256\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-use-ssl-connections",children:"3. Use SSL Connections"}),"\n",(0,i.jsx)(n.p,{children:"Enable SSL for foreign server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE SERVER secure_server\n    FOREIGN DATA WRAPPER postgres_fdw\n    OPTIONS (\n        host '192.168.1.13',\n        port '5433',\n        dbname 'testna',\n        sslmode 'require',\n        sslcert '/path/to/client.crt',\n        sslkey '/path/to/client.key',\n        sslrootcert '/path/to/ca.crt'\n    );\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-read-only-foreign-tables",children:"4. Read-Only Foreign Tables"}),"\n",(0,i.jsx)(n.p,{children:"Prevent accidental modifications:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER FOREIGN TABLE nov_indeks\nOPTIONS (ADD updatable 'false');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-grant-minimal-privileges",children:"5. Grant Minimal Privileges"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- On remote server, grant only necessary privileges\nGRANT SELECT ON specific_table TO fdw_user;\n-- Don't grant INSERT, UPDATE, DELETE unless needed\n"})}),"\n",(0,i.jsx)(n.h2,{id:"part-11-advanced-use-cases",children:"Part 11: Advanced Use Cases"}),"\n",(0,i.jsx)(n.h3,{id:"partitioning-with-foreign-tables",children:"Partitioning with Foreign Tables"}),"\n",(0,i.jsx)(n.p,{children:"Use foreign tables as partitions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Create partitioned table\nCREATE TABLE all_data (\n    id INTEGER,\n    region TEXT,\n    data TEXT\n) PARTITION BY LIST (region);\n\n-- Local partition\nCREATE TABLE data_local PARTITION OF all_data\nFOR VALUES IN ('local');\n\n-- Foreign table partition\nCREATE FOREIGN TABLE data_remote PARTITION OF all_data\nFOR VALUES IN ('remote')\nSERVER remote_server;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"data-federation",children:"Data Federation"}),"\n",(0,i.jsx)(n.p,{children:"Query across multiple databases:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Create servers for multiple databases\nCREATE SERVER db1_server FOREIGN DATA WRAPPER postgres_fdw\n    OPTIONS (host 'db1.example.com', dbname 'sales');\n\nCREATE SERVER db2_server FOREIGN DATA WRAPPER postgres_fdw\n    OPTIONS (host 'db2.example.com', dbname 'inventory');\n\nCREATE SERVER db3_server FOREIGN DATA WRAPPER postgres_fdw\n    OPTIONS (host 'db3.example.com', dbname 'customers');\n\n-- Import schemas\nIMPORT FOREIGN SCHEMA public FROM SERVER db1_server INTO sales_schema;\nIMPORT FOREIGN SCHEMA public FROM SERVER db2_server INTO inventory_schema;\nIMPORT FOREIGN SCHEMA public FROM SERVER db3_server INTO customer_schema;\n\n-- Query across all databases\nSELECT \n    c.customer_name,\n    s.order_total,\n    i.stock_level\nFROM customer_schema.customers c\nJOIN sales_schema.orders s ON c.id = s.customer_id\nJOIN inventory_schema.products i ON s.product_id = i.id;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"read-replica-access",children:"Read Replica Access"}),"\n",(0,i.jsx)(n.p,{children:"Use FDW to access read replicas:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Connect to read replica for heavy queries\nCREATE SERVER read_replica FOREIGN DATA WRAPPER postgres_fdw\n    OPTIONS (host 'replica.example.com', dbname 'production');\n\n-- Create foreign tables pointing to replica\nIMPORT FOREIGN SCHEMA public \nFROM SERVER read_replica \nINTO replica_schema;\n\n-- Query replica for analytics\nSELECT * FROM replica_schema.large_table\nWHERE date > CURRENT_DATE - INTERVAL '1 year';\n"})}),"\n",(0,i.jsx)(n.h2,{id:"cleanup-commands",children:"Cleanup Commands"}),"\n",(0,i.jsx)(n.h3,{id:"drop-foreign-table",children:"Drop Foreign Table"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DROP FOREIGN TABLE IF EXISTS nov_indeks CASCADE;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"drop-user-mapping",children:"Drop User Mapping"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DROP USER MAPPING IF EXISTS FOR CURRENT_USER SERVER nov_indeks_fdw;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"drop-server",children:"Drop Server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DROP SERVER IF EXISTS nov_indeks_fdw CASCADE;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"drop-extension",children:"Drop Extension"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DROP EXTENSION IF EXISTS postgres_fdw CASCADE;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"other-fdw-extensions",children:"Other FDW Extensions"}),"\n",(0,i.jsx)(n.p,{children:"PostgreSQL supports FDW for other data sources:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Extension"}),(0,i.jsx)(n.th,{children:"Data Source"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"postgres_fdw"})}),(0,i.jsx)(n.td,{children:"PostgreSQL (built-in)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mysql_fdw"})}),(0,i.jsx)(n.td,{children:"MySQL/MariaDB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"oracle_fdw"})}),(0,i.jsx)(n.td,{children:"Oracle Database"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mongodb_fdw"})}),(0,i.jsx)(n.td,{children:"MongoDB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"redis_fdw"})}),(0,i.jsx)(n.td,{children:"Redis"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"file_fdw"})}),(0,i.jsx)(n.td,{children:"CSV files (built-in)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"jdbc_fdw"})}),(0,i.jsx)(n.td,{children:"Any JDBC-compatible database"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"example-file_fdw-for-csv",children:"Example: file_fdw for CSV"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Enable file_fdw\nCREATE EXTENSION file_fdw;\n\n-- Create server\nCREATE SERVER csv_server FOREIGN DATA WRAPPER file_fdw;\n\n-- Create foreign table\nCREATE FOREIGN TABLE csv_data (\n    id INTEGER,\n    name TEXT,\n    value NUMERIC\n)\nSERVER csv_server\nOPTIONS (filename '/path/to/data.csv', format 'csv', header 'true');\n\n-- Query CSV as table\nSELECT * FROM csv_data;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices-summary",children:"Best Practices Summary"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Use user mappings per user"})," instead of PUBLIC"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Enable SSL"})," for production environments"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Grant minimal privileges"})," on remote server"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Use .pgpass"})," instead of password in user mapping"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Monitor query performance"})," and adjust fetch_size"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Create indexes"})," on remote tables for better performance"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Use materialized views"})," for frequently accessed data"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Document your foreign servers"})," and their purposes"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Test failover scenarios"})," if using HA setups"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Regular security audits"})," of FDW configurations"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.postgresql.org/docs/current/postgres-fdw.html",children:"PostgreSQL FDW Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/SQL/MED",children:"SQL/MED Standard"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.postgresql.org/docs/current/postgres-fdw.html#POSTGRES-FDW-OPTIONS",children:"postgres_fdw Performance"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://dbeaver.io/docs/",children:"DBeaver Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://wiki.postgresql.org/wiki/Foreign_data_wrappers",children:"Other FDW Extensions"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},65:function(e,n,s){s.d(n,{Z:function(){return t},a:function(){return l}});var r=s(7294);let i={},a=r.createContext(i);function l(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);