"use strict";(self.webpackChunkdocusaurus_osebna=self.webpackChunkdocusaurus_osebna||[]).push([["3023"],{7421:function(e,n,i){i.r(n),i.d(n,{metadata:()=>s,contentTitle:()=>a,default:()=>h,assets:()=>o,toc:()=>t,frontMatter:()=>l});var s=JSON.parse('{"id":"docs-mixed/mouse-keyboard-remapping","title":"Mouse and Keyboard Remapping in Linux","description":"A comprehensive guide for remapping mouse buttons and keyboard keys in Linux across different environments (X11, Wayland) and remote desktop solutions.","source":"@site/docs/docs-mixed/mouse-keyboard-remapping.mdx","sourceDirName":"docs-mixed","slug":"/docs-mixed/mouse-keyboard-remapping","permalink":"/docs/docs-mixed/mouse-keyboard-remapping","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Proxmox NVMe ZFS Mirror Setup","permalink":"/docs/docs-mixed/proxmox-zfs-mirror"},"next":{"title":"Resizing RHEL/AlmaLinux LVM Disk in Proxmox","permalink":"/docs/docs-mixed/rhel-resize-disk"}}'),r=i("5893"),d=i("65");let l={sidebar_position:3},a="Mouse and Keyboard Remapping in Linux",o={},t=[{value:"Mouse Button Remapping",id:"mouse-button-remapping",level:2},{value:"Finding Your Mouse",id:"finding-your-mouse",level:3},{value:"Testing Button Mappings",id:"testing-button-mappings",level:3},{value:"Remapping Mouse Buttons",id:"remapping-mouse-buttons",level:3},{value:"Logitech G300s Specific Configuration",id:"logitech-g300s-specific-configuration",level:3},{value:"Alternative Method with xbindkeys",id:"alternative-method-with-xbindkeys",level:3},{value:"Keyboard Remapping",id:"keyboard-remapping",level:2},{value:"X11 - Using xmodmap",id:"x11---using-xmodmap",level:3},{value:"Making Changes Permanent",id:"making-changes-permanent",level:3},{value:"Wayland Keyboard Remapping",id:"wayland-keyboard-remapping",level:2},{value:"Using input-remapper",id:"using-input-remapper",level:3},{value:"Using keyd (Modern Solution)",id:"using-keyd-modern-solution",level:2},{value:"Installation",id:"installation",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Remmina (RDP) Key Remapping",id:"remmina-rdp-key-remapping",level:2},{value:"Scancode Remapping",id:"scancode-remapping",level:3},{value:"Finding Scancodes",id:"finding-scancodes",level:3},{value:"Quick Reference Table",id:"quick-reference-table",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Changes Don&#39;t Persist",id:"changes-dont-persist",level:3},{value:"Key Not Working in Wayland",id:"key-not-working-in-wayland",level:3},{value:"Remmina Remapping Not Working",id:"remmina-remapping-not-working",level:3},{value:"Best Practices",id:"best-practices",level:2}];function c(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mouse-and-keyboard-remapping-in-linux",children:"Mouse and Keyboard Remapping in Linux"})}),"\n",(0,r.jsx)(n.p,{children:"A comprehensive guide for remapping mouse buttons and keyboard keys in Linux across different environments (X11, Wayland) and remote desktop solutions."}),"\n",(0,r.jsx)(n.h2,{id:"mouse-button-remapping",children:"Mouse Button Remapping"}),"\n",(0,r.jsx)(n.h3,{id:"finding-your-mouse",children:"Finding Your Mouse"}),"\n",(0,r.jsx)(n.p,{children:"First, identify your mouse device:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xinput list  # Find the ID of your mouse (pointer)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"testing-button-mappings",children:"Testing Button Mappings"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"xev"})," to determine which button corresponds to which number:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xev  # Click in the window to see button numbers\n"})}),"\n",(0,r.jsx)(n.h3,{id:"remapping-mouse-buttons",children:"Remapping Mouse Buttons"}),"\n",(0,r.jsx)(n.p,{children:"Reset to default mapping:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xinput set-button-map <mouse_id> 1 2 3 4 5 6 7 8 9\n"})}),"\n",(0,r.jsx)(n.p,{children:"Example - swap middle click with button 9:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xinput set-button-map 8 1 9 3 4 5 6 7 8 2\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Startup Configuration",type:"tip",children:(0,r.jsx)(n.p,{children:"Add the command to your startup applications to make it permanent."})}),"\n",(0,r.jsx)(n.h3,{id:"logitech-g300s-specific-configuration",children:"Logitech G300s Specific Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Install ratslap:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pacaur -S ratslap\n"})}),"\n",(0,r.jsx)(n.p,{children:"Configure button G5 to Ctrl+B:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo ratslap --modify F3 --G5 LeftCtrl+B --print F3 --select F3\n"})}),"\n",(0,r.jsx)(n.p,{children:"Configure button G5 as middle click:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo ratslap --modify F3 --G5 Button3 --print F3 --select F3\n"})}),"\n",(0,r.jsx)(n.h3,{id:"alternative-method-with-xbindkeys",children:"Alternative Method with xbindkeys"}),"\n",(0,r.jsx)(n.p,{children:"Install required packages:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo pacman -Syu xbindkeys xorg-xev xdotool\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create configuration file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xbindkeys -f ~/.xbindkeysrc\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Add to ",(0,r.jsx)(n.code,{children:"~/.xbindkeysrc"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'"xdotool key ctrl+b"\n     b:8\n'})}),"\n",(0,r.jsx)(n.p,{children:"Apply changes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"killall xbindkeys\nxbindkeys\n"})}),"\n",(0,r.jsx)(n.h2,{id:"keyboard-remapping",children:"Keyboard Remapping"}),"\n",(0,r.jsx)(n.h3,{id:"x11---using-xmodmap",children:"X11 - Using xmodmap"}),"\n",(0,r.jsx)(n.p,{children:'Remap Super_L key to type "\xb5":'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xmodmap -e 'keysym Super_L = mu mu mu'\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Finding Key Names",type:"info",children:(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"xev"})," to find the name of any key. Look for lines showing keysym information."]})}),"\n",(0,r.jsx)(n.p,{children:"Remap F8 to KP_0 and Shift+F8 to KP_Equal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'xmodmap -e "keycode 74 = KP_0 KP_Equal"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Clear Mod4 modifiers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xmodmap -e 'clear Mod4'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"making-changes-permanent",children:"Making Changes Permanent"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Option 1:"})," Add commands to ",(0,r.jsx)(n.code,{children:".bashrc"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Option 2:"})," Create ",(0,r.jsx)(n.code,{children:"~/.Xmodmap"})," file with:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"keysym Super_L = mu mu mu\nclear Mod4\n"})}),"\n",(0,r.jsx)(n.h2,{id:"wayland-keyboard-remapping",children:"Wayland Keyboard Remapping"}),"\n",(0,r.jsx)(n.h3,{id:"using-input-remapper",children:"Using input-remapper"}),"\n",(0,r.jsx)(n.p,{children:"Install input-remapper:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo dnf install input-remapper\n"})}),"\n",(0,r.jsx)(n.p,{children:"Configuration:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open input-remapper GUI"}),"\n",(0,r.jsxs)(n.li,{children:["Under ",(0,r.jsx)(n.strong,{children:"Input"}),": Add KP_0 or use the record function"]}),"\n",(0,r.jsxs)(n.li,{children:["Under ",(0,r.jsx)(n.strong,{children:"Output"}),": Find and select KEY_0"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"using-keyd-modern-solution",children:"Using keyd (Modern Solution)"}),"\n",(0,r.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/rvaiya/keyd\ncd keyd\nmake && sudo make install\nsudo systemctl enable keyd && sudo systemctl start keyd\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Edit ",(0,r.jsx)(n.code,{children:"/etc/keyd/default.conf"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[ids]\n*\n\n[main]\n# Remap F8 to 0\nf8 = 0\n"})}),"\n",(0,r.jsx)(n.p,{children:"Restart keyd:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart keyd\n"})}),"\n",(0,r.jsx)(n.h2,{id:"remmina-rdp-key-remapping",children:"Remmina (RDP) Key Remapping"}),"\n",(0,r.jsx)(n.h3,{id:"scancode-remapping",children:"Scancode Remapping"}),"\n",(0,r.jsxs)(n.p,{children:["Go to: ",(0,r.jsx)(n.strong,{children:"Remmina Preferences \u2192 RDP \u2192 Keyboard scancode remapping"})]}),"\n",(0,r.jsx)(n.p,{children:"Example - swap 0 and F8:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"0x0b=0x42,0x42=0x0b\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"You must restart Remmina after making changes!"})}),"\n",(0,r.jsx)(n.h3,{id:"finding-scancodes",children:"Finding Scancodes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Press ",(0,r.jsx)(n.code,{children:"Ctrl+Alt+F2"})," to switch to TTY"]}),"\n",(0,r.jsx)(n.li,{children:"Login to your account"}),"\n",(0,r.jsxs)(n.li,{children:["Run:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"showkey --scancode\n"})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Press the key you want to remap"}),"\n",(0,r.jsxs)(n.li,{children:["Note the ",(0,r.jsx)(n.strong,{children:"first code"})," shown (e.g., if you see ",(0,r.jsx)(n.code,{children:"0x0b 0x8b"}),", use ",(0,r.jsx)(n.code,{children:"0x0b"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Press ",(0,r.jsx)(n.code,{children:"Ctrl+Alt+F7"})," to return to graphical session"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"quick-reference-table",children:"Quick Reference Table"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environment"}),(0,r.jsx)(n.th,{children:"Tool"}),(0,r.jsx)(n.th,{children:"Permanent?"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"X11"}),(0,r.jsx)(n.td,{children:"xmodmap"}),(0,r.jsx)(n.td,{children:"No (unless configured)"}),(0,r.jsx)(n.td,{children:"Classic method"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"X11"}),(0,r.jsx)(n.td,{children:"xbindkeys"}),(0,r.jsx)(n.td,{children:"Yes (with config file)"}),(0,r.jsx)(n.td,{children:"More flexible"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Wayland"}),(0,r.jsx)(n.td,{children:"input-remapper"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"GUI-based"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Any"}),(0,r.jsx)(n.td,{children:"keyd"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Modern, systemd-based"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"RDP/Remmina"}),(0,r.jsx)(n.td,{children:"Built-in"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Scancode remapping"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"changes-dont-persist",children:"Changes Don't Persist"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add commands to startup applications"}),"\n",(0,r.jsx)(n.li,{children:"Create configuration files in home directory"}),"\n",(0,r.jsx)(n.li,{children:"Use systemd services (like keyd)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"key-not-working-in-wayland",children:"Key Not Working in Wayland"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"X11 tools like xmodmap won't work in Wayland"}),"\n",(0,r.jsx)(n.li,{children:"Use input-remapper or keyd instead"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"remmina-remapping-not-working",children:"Remmina Remapping Not Working"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Make sure to restart Remmina completely"}),"\n",(0,r.jsxs)(n.li,{children:["Verify scancode values with ",(0,r.jsx)(n.code,{children:"showkey"})]}),"\n",(0,r.jsx)(n.li,{children:"Check if RDP server allows key remapping"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test First"}),": Always test remapping before making it permanent"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backup"}),": Note your original configuration before changing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use xev"}),": Great tool for discovering key codes and button numbers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Choose Right Tool"}),": Use keyd for modern systems, xmodmap for legacy"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document Changes"}),": Keep notes of your custom mappings"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},65:function(e,n,i){i.d(n,{Z:function(){return a},a:function(){return l}});var s=i(7294);let r={},d=s.createContext(r);function l(e){let n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);