"use strict";(self.webpackChunkdocusaurus_osebna=self.webpackChunkdocusaurus_osebna||[]).push([["8718"],{366:function(e,n,i){i.r(n),i.d(n,{metadata:()=>s,contentTitle:()=>a,default:()=>h,assets:()=>t,toc:()=>d,frontMatter:()=>o});var s=JSON.parse('{"id":"docs-mixed/rhel-resize-disk","title":"Resizing RHEL/AlmaLinux LVM Disk in Proxmox","description":"Guide for expanding disk space on RHEL-based systems (RHEL, CentOS, AlmaLinux, Rocky Linux) running in Proxmox VMs after increasing the virtual disk size.","source":"@site/docs/docs-mixed/rhel-resize-disk.mdx","sourceDirName":"docs-mixed","slug":"/docs-mixed/rhel-resize-disk","permalink":"/docs/docs-mixed/rhel-resize-disk","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Mouse and Keyboard Remapping in Linux","permalink":"/docs/docs-mixed/mouse-keyboard-remapping"},"next":{"title":"Proxmox wifi","permalink":"/docs/docs-mixed/proxmox-wifi"}}'),l=i("5893"),r=i("65");let o={sidebar_position:3},a="Resizing RHEL/AlmaLinux LVM Disk in Proxmox",t={},d=[{value:"Overview",id:"overview",level:2},{value:"Step 1: Verify New Disk Size",id:"step-1-verify-new-disk-size",level:2},{value:"Step 2: Check Current Partition Layout",id:"step-2-check-current-partition-layout",level:2},{value:"Step 3: Resize the LVM Partition",id:"step-3-resize-the-lvm-partition",level:2},{value:"Step 4: Resize the Physical Volume",id:"step-4-resize-the-physical-volume",level:2},{value:"Step 5: Check Logical Volumes",id:"step-5-check-logical-volumes",level:2},{value:"Step 6: Resize Logical Volumes",id:"step-6-resize-logical-volumes",level:2},{value:"Option A: Add Specific Amount (GB)",id:"option-a-add-specific-amount-gb",level:3},{value:"Option B: Use All Available Space",id:"option-b-use-all-available-space",level:3},{value:"Verification",id:"verification",level:2},{value:"Check Disk Space",id:"check-disk-space",level:3},{value:"Check LVM Status",id:"check-lvm-status",level:3},{value:"Complete Example Workflow",id:"complete-example-workflow",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Partition Not Resizing",id:"partition-not-resizing",level:3},{value:"Filesystem Not Growing",id:"filesystem-not-growing",level:3},{value:"No Free Space in Volume Group",id:"no-free-space-in-volume-group",level:3},{value:"Disk Not Recognized",id:"disk-not-recognized",level:3},{value:"Multiple Logical Volumes",id:"multiple-logical-volumes",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Alternative: Extending in Proxmox GUI",id:"alternative-extending-in-proxmox-gui",level:2},{value:"Common Volume Group Names",id:"common-volume-group-names",level:2},{value:"Removing Unnecessary Logical Volume",id:"removing-unnecessary-logical-volume",level:2},{value:"Step-by-Step: Removing /home and Extending /root",id:"step-by-step-removing-home-and-extending-root",level:3},{value:"1. Backup Home Directory",id:"1-backup-home-directory",level:4},{value:"2. Disable Home Volume in fstab",id:"2-disable-home-volume-in-fstab",level:4},{value:"3. Reboot the System",id:"3-reboot-the-system",level:4},{value:"4. Remove the Logical Volume",id:"4-remove-the-logical-volume",level:4},{value:"5. Extend Root Volume",id:"5-extend-root-volume",level:4},{value:"6. Restore Home Data",id:"6-restore-home-data",level:4},{value:"7. Cleanup Backup",id:"7-cleanup-backup",level:4},{value:"Verification",id:"verification-1",level:3},{value:"When to Remove Separate Volumes",id:"when-to-remove-separate-volumes",level:3},{value:"Alternative: Just Shrink Home",id:"alternative-just-shrink-home",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"resizing-rhelalmalinux-lvm-disk-in-proxmox",children:"Resizing RHEL/AlmaLinux LVM Disk in Proxmox"})}),"\n",(0,l.jsx)(n.p,{children:"Guide for expanding disk space on RHEL-based systems (RHEL, CentOS, AlmaLinux, Rocky Linux) running in Proxmox VMs after increasing the virtual disk size."}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"After expanding a virtual disk in Proxmox, the guest operating system needs to be told to use the additional space. This guide covers the complete process for LVM-based systems."}),"\n",(0,l.jsx)(n.h2,{id:"step-1-verify-new-disk-size",children:"Step 1: Verify New Disk Size"}),"\n",(0,l.jsx)(n.p,{children:"After expanding the disk in Proxmox, check if the system recognizes the new size:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"dmesg | grep sda\n"})}),"\n",(0,l.jsx)(n.p,{children:"This shows kernel messages about the disk device and its detected size."}),"\n",(0,l.jsx)(n.h2,{id:"step-2-check-current-partition-layout",children:"Step 2: Check Current Partition Layout"}),"\n",(0,l.jsx)(n.p,{children:"View the current partition structure:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"fdisk -l /dev/sda | grep ^/dev\n"})}),"\n",(0,l.jsx)(n.p,{children:"This displays all partitions on the disk with their current sizes."}),"\n",(0,l.jsx)(n.h2,{id:"step-3-resize-the-lvm-partition",children:"Step 3: Resize the LVM Partition"}),"\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"parted"})," to expand the partition (usually partition 2 on LVM systems):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"parted /dev/sda\n"})}),"\n",(0,l.jsx)(n.p,{children:"In the parted prompt:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"print              # View current partition table\nresizepart 2 100%  # Resize partition 2 to use 100% of disk\nquit               # Exit parted\n"})}),"\n",(0,l.jsx)(n.admonition,{title:"Partition Numbers",type:"info",children:(0,l.jsxs)(n.p,{children:["LVM typically uses partition 2 (",(0,l.jsx)(n.code,{children:"/dev/sda2"}),"). Use ",(0,l.jsx)(n.code,{children:"print"})," to confirm which partition number contains your LVM."]})}),"\n",(0,l.jsx)(n.h2,{id:"step-4-resize-the-physical-volume",children:"Step 4: Resize the Physical Volume"}),"\n",(0,l.jsx)(n.p,{children:"Expand the LVM physical volume to use the newly resized partition:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pvresize /dev/sda2\n"})}),"\n",(0,l.jsx)(n.p,{children:"This tells LVM that the physical volume now has more space available."}),"\n",(0,l.jsx)(n.h2,{id:"step-5-check-logical-volumes",children:"Step 5: Check Logical Volumes"}),"\n",(0,l.jsx)(n.p,{children:"View all logical volumes and their current sizes:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lvdisplay\n"})}),"\n",(0,l.jsx)(n.p,{children:"Take note of:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Volume group name (e.g., ",(0,l.jsx)(n.code,{children:"almalinux"}),", ",(0,l.jsx)(n.code,{children:"rhel"}),", ",(0,l.jsx)(n.code,{children:"cl"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Logical volume name (e.g., ",(0,l.jsx)(n.code,{children:"root"}),", ",(0,l.jsx)(n.code,{children:"home"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Current size"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"step-6-resize-logical-volumes",children:"Step 6: Resize Logical Volumes"}),"\n",(0,l.jsx)(n.h3,{id:"option-a-add-specific-amount-gb",children:"Option A: Add Specific Amount (GB)"}),"\n",(0,l.jsx)(n.p,{children:"Add a fixed amount of space:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lvresize --size +20G --resizefs /dev/{volume_group_name}/root\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lvresize --size +20G --resizefs /dev/almalinux/root\n"})}),"\n",(0,l.jsx)(n.h3,{id:"option-b-use-all-available-space",children:"Option B: Use All Available Space"}),"\n",(0,l.jsx)(n.p,{children:"Expand to use all free space in the volume group:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lvresize --extents +100%FREE --resizefs /dev/{volume_group_name}/home\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lvresize --extents +100%FREE --resizefs /dev/almalinux/home\n"})}),"\n",(0,l.jsx)(n.admonition,{title:"--resizefs Flag",type:"tip",children:(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"--resizefs"})," flag automatically resizes the filesystem after expanding the logical volume. Without it, you'd need to run ",(0,l.jsx)(n.code,{children:"resize2fs"})," (ext4) or ",(0,l.jsx)(n.code,{children:"xfs_growfs"})," (xfs) manually."]})}),"\n",(0,l.jsx)(n.h2,{id:"verification",children:"Verification"}),"\n",(0,l.jsx)(n.h3,{id:"check-disk-space",children:"Check Disk Space"}),"\n",(0,l.jsx)(n.p,{children:"Verify the new space is available:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"df -h\n"})}),"\n",(0,l.jsx)(n.h3,{id:"check-lvm-status",children:"Check LVM Status"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Physical volumes\npvdisplay\n\n# Volume groups\nvgdisplay\n\n# Logical volumes\nlvdisplay\n"})}),"\n",(0,l.jsx)(n.h2,{id:"complete-example-workflow",children:"Complete Example Workflow"}),"\n",(0,l.jsx)(n.p,{children:"Here's a complete example expanding a 50GB disk to 100GB:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# 1. Check new disk size\ndmesg | grep sda\n\n# 2. View current layout\nfdisk -l /dev/sda | grep ^/dev\n\n# 3. Resize partition\nparted /dev/sda\nprint\nresizepart 2 100%\nquit\n\n# 4. Resize physical volume\npvresize /dev/sda2\n\n# 5. Check logical volumes\nlvdisplay\n\n# 6. Expand root to use all free space\nlvresize --extents +100%FREE --resizefs /dev/almalinux/root\n\n# 7. Verify\ndf -h\n"})}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"partition-not-resizing",children:"Partition Not Resizing"}),"\n",(0,l.jsxs)(n.p,{children:["If ",(0,l.jsx)(n.code,{children:"resizepart"})," fails:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Try using fdisk instead\nfdisk /dev/sda\n# Delete and recreate the partition with same start sector but larger size\n# WARNING: Note the exact start sector before deleting!\n"})}),"\n",(0,l.jsx)(n.h3,{id:"filesystem-not-growing",children:"Filesystem Not Growing"}),"\n",(0,l.jsxs)(n.p,{children:["If ",(0,l.jsx)(n.code,{children:"--resizefs"})," fails or you didn't use it:"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"For ext4:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"resize2fs /dev/almalinux/root\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"For XFS:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"xfs_growfs /dev/almalinux/root\n"})}),"\n",(0,l.jsx)(n.h3,{id:"no-free-space-in-volume-group",children:"No Free Space in Volume Group"}),"\n",(0,l.jsx)(n.p,{children:"Check volume group:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"vgdisplay\n"})}),"\n",(0,l.jsx)(n.p,{children:'If "Free PE" shows 0, the physical volume wasn\'t resized properly. Rerun:'}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pvresize /dev/sda2\n"})}),"\n",(0,l.jsx)(n.h3,{id:"disk-not-recognized",children:"Disk Not Recognized"}),"\n",(0,l.jsx)(n.p,{children:"If the VM doesn't see the new disk size:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Rescan SCSI bus (without reboot):"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo 1 > /sys/class/scsi_device/0:0:0:0/device/rescan\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"Or reboot the VM (safest option)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"multiple-logical-volumes",children:"Multiple Logical Volumes"}),"\n",(0,l.jsxs)(n.p,{children:["If you have multiple LVs (e.g., ",(0,l.jsx)(n.code,{children:"/root"})," and ",(0,l.jsx)(n.code,{children:"/home"}),"), decide which one gets the extra space:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Give 30GB to root\nlvresize --size +30G --resizefs /dev/almalinux/root\n\n# Give remaining to home\nlvresize --extents +100%FREE --resizefs /dev/almalinux/home\n"})}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Backup First"}),": Always backup important data before resizing"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Check Filesystem Type"}),": Use appropriate resize command for your filesystem"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Plan Allocation"}),": Decide which logical volume gets the extra space"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Test in Development"}),": Practice on a test VM first"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Monitor Space"}),": Use ",(0,l.jsx)(n.code,{children:"df -h"})," regularly to monitor disk usage"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"alternative-extending-in-proxmox-gui",children:"Alternative: Extending in Proxmox GUI"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Shutdown the VM (or use hot-plug if supported)"}),"\n",(0,l.jsx)(n.li,{children:"Go to VM \u2192 Hardware \u2192 Hard Disk"}),"\n",(0,l.jsx)(n.li,{children:'Click "Resize disk"'}),"\n",(0,l.jsx)(n.li,{children:"Enter additional size"}),"\n",(0,l.jsx)(n.li,{children:"Start VM and follow steps above"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"common-volume-group-names",children:"Common Volume Group Names"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"RHEL"}),": ",(0,l.jsx)(n.code,{children:"rhel"})," or ",(0,l.jsx)(n.code,{children:"cl"})," (CentOS Linux)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"AlmaLinux"}),": ",(0,l.jsx)(n.code,{children:"almalinux"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Rocky Linux"}),": ",(0,l.jsx)(n.code,{children:"rocky"})," or ",(0,l.jsx)(n.code,{children:"rl"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CentOS Stream"}),": ",(0,l.jsx)(n.code,{children:"cs"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Check with ",(0,l.jsx)(n.code,{children:"vgdisplay"})," to confirm your exact name."]}),"\n",(0,l.jsx)(n.h2,{id:"removing-unnecessary-logical-volume",children:"Removing Unnecessary Logical Volume"}),"\n",(0,l.jsxs)(n.p,{children:["Sometimes you may want to consolidate space by removing a separate logical volume (like ",(0,l.jsx)(n.code,{children:"/home"}),") and merging it into root. This is useful when you don't need separate partitions."]}),"\n",(0,l.jsx)(n.admonition,{title:"Data Loss Warning",type:"danger",children:(0,l.jsxs)(n.p,{children:["This process will ",(0,l.jsx)(n.strong,{children:"DELETE ALL DATA"})," on the logical volume being removed. Make sure you have backups or migrate data first!"]})}),"\n",(0,l.jsx)(n.h3,{id:"step-by-step-removing-home-and-extending-root",children:"Step-by-Step: Removing /home and Extending /root"}),"\n",(0,l.jsx)(n.h4,{id:"1-backup-home-directory",children:"1. Backup Home Directory"}),"\n",(0,l.jsx)(n.p,{children:"Create a temporary backup location and copy all home data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /media/home_backup\nsudo cp -a /home/. /media/home_backup/\n"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"-a"})," flag preserves permissions, ownership, and timestamps."]}),"\n",(0,l.jsx)(n.h4,{id:"2-disable-home-volume-in-fstab",children:"2. Disable Home Volume in fstab"}),"\n",(0,l.jsx)(n.p,{children:"Edit the filesystem table to prevent mounting the home volume:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo vi /etc/fstab\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Find the line mounting ",(0,l.jsx)(n.code,{children:"/home"})," and comment it out by adding ",(0,l.jsx)(n.code,{children:"#"})," at the beginning:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# /dev/mapper/almalinux-home /home xfs defaults 0 0\n"})}),"\n",(0,l.jsx)(n.h4,{id:"3-reboot-the-system",children:"3. Reboot the System"}),"\n",(0,l.jsx)(n.p,{children:"Reboot to ensure the home volume is no longer mounted:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo reboot\n"})}),"\n",(0,l.jsx)(n.h4,{id:"4-remove-the-logical-volume",children:"4. Remove the Logical Volume"}),"\n",(0,l.jsx)(n.p,{children:"After reboot, delete the home logical volume:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo lvremove /dev/mapper/almalinux-home\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Type ",(0,l.jsx)(n.code,{children:"y"})," to confirm deletion."]}),"\n",(0,l.jsxs)(n.admonition,{title:"Volume Path",type:"tip",children:[(0,l.jsxs)(n.p,{children:["The exact path may vary. Use ",(0,l.jsx)(n.code,{children:"lvdisplay"})," to find your volume group and logical volume names. Common formats:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/dev/mapper/almalinux-home"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/dev/mapper/rhel-home"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/dev/almalinux/home"})}),"\n"]})]}),"\n",(0,l.jsx)(n.h4,{id:"5-extend-root-volume",children:"5. Extend Root Volume"}),"\n",(0,l.jsx)(n.p,{children:"Expand the root volume to use all freed space:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo lvextend -l +100%FREE -r /dev/mapper/almalinux-root\n"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"-r"})," flag automatically resizes the filesystem."]}),"\n",(0,l.jsx)(n.h4,{id:"6-restore-home-data",children:"6. Restore Home Data"}),"\n",(0,l.jsxs)(n.p,{children:["Copy the backed-up home data back to ",(0,l.jsx)(n.code,{children:"/home"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo cp -a /media/home_backup/. /home/\n"})}),"\n",(0,l.jsx)(n.h4,{id:"7-cleanup-backup",children:"7. Cleanup Backup"}),"\n",(0,l.jsx)(n.p,{children:"Remove the temporary backup after verifying everything works:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo rm -rf /media/home_backup\n"})}),"\n",(0,l.jsx)(n.h3,{id:"verification-1",children:"Verification"}),"\n",(0,l.jsx)(n.p,{children:"Check that the root partition now has more space:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"df -h\n"})}),"\n",(0,l.jsx)(n.p,{children:"Verify home data is accessible:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls -la /home\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check user permissions:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls -la /home/yourusername\n"})}),"\n",(0,l.jsx)(n.h3,{id:"when-to-remove-separate-volumes",children:"When to Remove Separate Volumes"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Good reasons to consolidate:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Simple single-user systems"}),"\n",(0,l.jsx)(n.li,{children:"VMs with limited disk space"}),"\n",(0,l.jsx)(n.li,{children:"Easier management with one large partition"}),"\n",(0,l.jsx)(n.li,{children:"No need for separate quota management"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Keep separate volumes when:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Multi-user environments"}),"\n",(0,l.jsx)(n.li,{children:"Need quota enforcement"}),"\n",(0,l.jsx)(n.li,{children:"Want to protect system from user data filling disk"}),"\n",(0,l.jsx)(n.li,{children:"Following corporate policies"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"alternative-just-shrink-home",children:"Alternative: Just Shrink Home"}),"\n",(0,l.jsxs)(n.p,{children:["If you want to keep ",(0,l.jsx)(n.code,{children:"/home"})," but give more space to root:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Don't remove, just resize\nsudo lvresize --size 10G --resizefs /dev/almalinux/home\n\n# Give freed space to root\nsudo lvextend -l +100%FREE -r /dev/almalinux/root\n"})}),"\n",(0,l.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/",children:"RHEL LVM Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://pve.proxmox.com/wiki/Resize_disks",children:"Proxmox Resize VM Disk"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/assembly_growing-an-xfs-file-system_managing-file-systems",children:"XFS File System Guide"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},65:function(e,n,i){i.d(n,{Z:function(){return a},a:function(){return o}});var s=i(7294);let l={},r=s.createContext(l);function o(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);