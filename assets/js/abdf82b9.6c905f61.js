"use strict";(self.webpackChunkdocusaurus_osebna=self.webpackChunkdocusaurus_osebna||[]).push([["5347"],{4993:function(e,n,i){i.r(n),i.d(n,{metadata:()=>t,contentTitle:()=>a,default:()=>u,assets:()=>c,toc:()=>l,frontMatter:()=>s});var t=JSON.parse('{"id":"docs-mixed/manjaro-pipewire-auto-switch","title":"Manjaro PipeWire auto switch","description":"Problem","source":"@site/docs/docs-mixed/manjaro-pipewire-auto-switch.mdx","sourceDirName":"docs-mixed","slug":"/docs-mixed/manjaro-pipewire-auto-switch","permalink":"/docs/docs-mixed/manjaro-pipewire-auto-switch","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Resizing RHEL/AlmaLinux LVM Disk in Proxmox","permalink":"/docs/docs-mixed/rhel-resize-disk"},"next":{"title":"Proxmox wifi","permalink":"/docs/docs-mixed/proxmox-wifi"}}'),o=i("5893"),r=i("65");let s={},a="Manjaro PipeWire auto switch",c={},l=[{value:"Problem",id:"problem",level:3},{value:"Quick fix",id:"quick-fix",level:3},{value:"Permanent solution",id:"permanent-solution",level:3},{value:"Test",id:"test",level:3}];function d(e){let n={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"manjaro-pipewire-auto-switch",children:"Manjaro PipeWire auto switch"})}),"\n",(0,o.jsx)(n.h3,{id:"problem",children:"Problem"}),"\n",(0,o.jsxs)(n.p,{children:["On Manjaro, disconnecting a Bluetooth audio device left the built-in speakers muted until I ran ",(0,o.jsx)(n.code,{children:"systemctl --user restart pipewire pipewire-pulse wireplumber"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"quick-fix",children:"Quick fix"}),"\n",(0,o.jsx)(n.p,{children:"Load the PulseAudio compatibility module once to restore routing:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pactl load-module module-switch-on-connect\n"})}),"\n",(0,o.jsx)(n.h3,{id:"permanent-solution",children:"Permanent solution"}),"\n",(0,o.jsx)(n.p,{children:"Configure PipeWire's PulseAudio layer to load the module automatically on startup:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/.config/pipewire/pipewire-pulse.conf.d/\nnano ~/.config/pipewire/pipewire-pulse.conf.d/switch-on-connect.conf\n"})}),"\n",(0,o.jsx)(n.p,{children:"Add the following content:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ini",children:'context.exec = [\n    { path = "pactl" args = "load-module module-switch-on-connect" }\n]\n'})}),"\n",(0,o.jsx)(n.p,{children:"Then restart PipeWire services:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"systemctl --user restart pipewire pipewire-pulse wireplumber\n"})}),"\n",(0,o.jsx)(n.h3,{id:"test",children:"Test"}),"\n",(0,o.jsx)(n.p,{children:"Re-connect and disconnect the Bluetooth device \u2014 audio should now fall back to the speakers without manual intervention."})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},65:function(e,n,i){i.d(n,{Z:function(){return a},a:function(){return s}});var t=i(7294);let o={},r=t.createContext(o);function s(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);